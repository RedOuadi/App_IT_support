
<div class="panne-container">
  <!-- Search Section -->
  <div class="panne-search-container">
    <a routerLink="new" class="add-button">
      <i class="fas fa-plus"></i> Add New Panne
    </a>
    <h2>Search Pannes</h2>
    <div class="search-bar">
      <!-- Search by Description -->
      <form (ngSubmit)="searchByDescription()" class="search-form">
        <div class="search-group">
          <input
            type="text"
            id="keyword"
            [(ngModel)]="keyword"
            name="keyword"
            class="form-control search-input"
            placeholder="Search by Description"
          />
        </div>
        <button type="submit" class="btn btn-primary search-button">
          <i class="fas fa-search"></i>
        </button>
      </form>

      <!-- Search by État Panne -->
      <form (ngSubmit)="searchByEtat()" class="search-form">
        <div class="search-group">
          <select
            id="etatPanne"
            [(ngModel)]="etatPanne"
            name="etatPanne"
            class="form-control search-select"
          >
            <option value="">Select État Panne</option>
            <option *ngFor="let etat of etatPanneOptions" [value]="etat">
              {{ etat }}
            </option>
          </select>
        </div>
        <button type="submit" class="btn btn-primary search-button">
          <i class="fas fa-search"></i>
        </button>
      </form>
    </div>
  </div>

  <!-- List Section -->
  <div class="panne-list-container">
    <h2>Pannes List</h2>
    <div class="panne-cards">
      <div *ngFor="let panne of pannes" class="card panne-card">
        <div class="card-body">
          <h5 class="card-title">{{ panne.description }}</h5>
          <p class="card-text">État: {{ panne.etatPanne }}</p>
          <div class="card-actions">
            <button class="btn btn-info action-button" [routerLink]="['edit', panne.id]">
              <i class="fas fa-edit"></i> Edit
            </button>
            <button class="btn btn-danger action-button" (click)="deletePanne(panne.id)">
              <i class="fas fa-trash-alt"></i> Delete
            </button>
            <button class="btn btn-info action-button" [routerLink]="['detail', panne.id]">
              <i class="fas fa-info-circle"></i> Voir détails
            </button>
          </div>
        </div>
      </div>
    </div>
    <div *ngIf="pannes.length === 0" class="no-results">
      <p>No results found.</p>
    </div>
  </div>
</div>

